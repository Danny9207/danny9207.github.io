[{"title":"java并发-并发编程基础","date":"2018-09-13T13:29:13.000Z","path":"2018/09/13/java-concurrent-two/","text":"##java并发编程基础 1. 线程简介线程都拥有各自的计数器、堆栈和局部变量等属性，并且能够访问共享的内存变量。 线程状态： NEW：初始状态，线程被构建，但是还没有调用start()方法。RUNNABLE：运行状态，java将操作系统中的“就绪”和“运行”两种状态统称为“运行中”。此时处于Thread.start()方法调用之后。处于WAITING，TIME_WAITING状态的线程在调用Object.notify()，Object.notifyAll()，LockSupport.unpark(Thread)方法之后，也会进入RUNNABLE状态。BLOCKED：阻塞状态，表示线程阻塞于锁。此时线程等待进入synchronized代码块或方法。获取到锁后进入RUNNABLE状态。WAITING：等待状态，进入该状态表示当前线程需要其他线程做出一些特定的动作（通知或中断），此时处于Object.wait()，Object.join()或LockSupport.park()方法调用之后。TIME_WAITING：超时等待状态，它与WAITING不同，它可以在指定的时间自行返回。此时处于Thread.sleep(long)，Object.wait(long)，Thread.join(long)，LockSupport.parkNanos()，LockSupport.parkUntil()方法调用之后。TERMINATED：终止状态，表示线程已经执行完毕。 2. 启动和终止线程3. 线程间通信4. 线程应用实例","tags":[]},{"title":"java并发-java内存模型","date":"2018-09-03T13:33:54.000Z","path":"2018/09/03/java-concurrent-one/","text":"java内存模型1. 内存模型JMM定义了线程和主内存之间的抽象关系：线程之间的共享变量存储在主内存中，每一个线程都有一个私有的本地内存，本地内存存储了该线程用来读/写共享变量的副本。JMM通过控制主内存与每个线程的本地内存之间的交互，来为java程序提供内存可见性的保证。 2. volatile&emsp;&emsp;特性 可见性。对一个volatile变量的读，总是能看到对这个volatile变量最后的写入。 原子性。对于单个volatile变量的读写具有原子性，但类似于volatile++的复合操作不具有原子性。 &emsp;&emsp;写-读的内存语义 当写一个volatile变量时，JMM会把该线程对应的本地内存中的共享变量值刷新到主内存。 当读一个volatile变量时，JMM会把该行程对应的本地内存的值置为无效，线程接下来将从主内存中读取共享变量。 &emsp;&emsp;内存语义实现原理为了实现volatile的内存语义，编译器在生成字节码时，会在指令序列中插入内存屏障来禁止特定类型的处理器重排序。下面是基于保守策略的JMM内存屏障插入策略： 在每一个volatile写操作的前面插入一个StoreStore屏障。 在每一个volatile写操作的后面插入一个StoreLoad屏障。 在每一个volatile读操作的后面插入一个LoadLoad屏障。 在每一个volatile读操作的后面插入一个LoadStore屏障。 3. synchronized&emsp;&emsp;特性锁可以让临界区互斥执行。 &emsp;&emsp;释放-获取的内存语义 当线程释放锁时，JMM会把该线程对应的本地内存中的共享变量刷新到主内存中。 当线程获取锁时，JMM会把该线程对应的本地内存置为无效。从而使线程中的代码必须从主内存中读取共享变量。 &emsp;&emsp;内存语义实现原理 利用volatile变量的读-写所具有的的内存语义。 利用CAS所附带的volatile读和volatile写的内存语义。 4. final待完成 :sleeping:","tags":[]},{"title":"Hello World","date":"2018-07-21T08:36:43.995Z","path":"2018/07/21/hello-world/","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","tags":[]}]